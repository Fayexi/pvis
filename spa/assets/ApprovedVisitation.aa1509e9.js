import{Q as R}from"./QIcon.89b2ae27.js";import{Q as f}from"./QBtn.c3151272.js";import{Q as v,a as b}from"./QCard.71daa90d.js";import{Q as A,b as k,a as Q,c as D}from"./QTabPanels.205421ac.js";import{Q as T}from"./QSeparator.7c3dded0.js";import{Q as V,a as c,b as S,c as P}from"./QTable.6b434b44.js";import{Q as I}from"./QSelect.2543a518.js";import{Q as E}from"./QInput.7f82834f.js";import{Q as B,a as M}from"./QItemLabel.1d4ddb5b.js";import{Q as L,C as N}from"./ClosePopup.d0c84cf0.js";import{Q as U}from"./QCardActions.f7b10c9a.js";import{Q as H}from"./format.921e47b3.js";import{V as z,a as J}from"./visitation-plan-table.07ee6146.js";import{S as y}from"./sweetalert2.all.12e75dcd.js";import{_ as Y,f as s,$ as u,E as d,k as a,j as o,a1 as p,i as r,Y as _,a0 as m,C as q,a2 as F,X as g,Z as w}from"./index.abf366c9.js";import"./render.04c64b32.js";import"./dom.17ea84af.js";import"./use-router-link.43533fdf.js";import"./use-dark.f54a1a29.js";import"./focus-manager.8e1b27e8.js";import"./QResizeObserver.cad93c08.js";import"./use-panel.87459ffc.js";import"./touch.3df10340.js";import"./QList.b4b939b3.js";import"./QMarkupTable.ac2e9cf3.js";import"./scroll.4aa12ad6.js";import"./use-key-composition.4fd64cc0.js";const $={data:()=>({btnRoles:["PMO","ED","CHAIRPERSON","DIRECTOR","OIC"],approveTab:"visited",userRole:localStorage.getItem("role"),podTypeOptions:["City Jail","District Jail","Municipal Jail ","Sub-Provincial Jail","Provincial Jail","National Penitentiary","PNP Custodial Facility","NBI Detention Center","PDEA Detention Center","Bureau of Immigration Detention Center","Military Camp","Mental Health Institution","Bahay Pag-Asa Facility","Regional Rehabilitation Center for the Youth","Other Facilities"],agencyOptions:["AFP","BI","BJMP","BUCOR","DOH","DSWD","LGU","NBI","PDEA","PNP","PRIVATE"],showAddPodDialog:!1,showCollatedDialog:!1,regionOptions:["Region 1","Region 2","Region 3","Region 4"],region:"",tblPodColumns:[{name:"pod",label:"Place of Deprivation to be visited",align:"left",sortable:!1},{name:"pod_type",label:"Type of POD",align:"left",sortable:!1},{name:"agency",label:"Agency",align:"left",sortable:!1},{name:"target_date",label:"Target Date of visit (Week and Month)",align:"left",sortable:!1},{name:"action",label:"Action",align:"center",sortable:!1}],tblPodRows:[{pod:null,pod_type:null,agency:null,target_date:null}],tblPodListCols:[...z],tblPodListRows:[{region:"Region 3",pod_address:"Sample",pod_type:"Sample",agency:"Sample",date_created:"February 29, 2024",status:"Approved"},{region:"Region 2",pod_address:"Sample",pod_type:"Sample",agency:"Sample",date_created:"February 29, 2024",status:"Approved"},{region:"Region 1",pod_address:"Sample",pod_type:"Sample",agency:"Sample",date_created:"February 29, 2024",status:"Approved"}],buttonLabel:"",collatedData:[],collatedTab:"0",vcBtn:!0,tblCollatedCols:[...J],tblCollatedRows:[{no:1,pod:"Clinic of the Holy Spirit, Quezon City",pod_address:"Sample",pod_type:"Mental Health Institution",agency:"DOH",target_date:"March, 1st Week"},{no:2,pod:"Plainview Custodial Home, Mandaluyong City",pod_address:"Sample",pod_type:"Mental Health Institution",agency:"DOH",target_date:"March, 1st Week"},{no:3,pod:"Divine Mercy Facility, Boni",pod_address:"Sample",pod_type:"Mental Health Institution",agency:"DOH",target_date:"March, 1st Week"},{no:4,pod:"JM Home Care Clinic, Taguig City",pod_address:"Sample",pod_type:"Mental Health Institution",agency:"DOH",target_date:"March, 1st Week"},{no:5,pod:"Holy Spirit Psychiatric and Custodial Care, Marikina City",pod_address:"Sample",pod_type:"Mental Health Institution",agency:"DOH",target_date:"March, 1st Week"},{no:6,pod:"National Center for Mental Health",pod_address:"Sample",pod_type:"Mental Health Institution",agency:"DOH",target_date:"March, 1st Week"}]}),computed:{},watch:{},methods:{async initApp(){localStorage.getItem("role")=="FOCAL"?(this.buttonLabel="Submit",console.log("BUTTON => ",this.buttonLabel)):localStorage.getItem("role")=="RD"?this.buttonLabel="For Endoresement":localStorage.getItem("role")=="DIRECTOR"?this.buttonLabel="Endorese":localStorage.getItem("role")=="OIC"?this.buttonLabel="Collate":localStorage.getItem("role")=="CHAIRPERSON"&&(this.buttonLabel="Approve")},addRow(){const e={pod:null,pod_type:null,agency:null,target_date:null};this.tblPodRows.push({...e})},onCreatePod(){this.showAddPodDialog=!0},onSubmit(){console.log(this.tblPodRows),this.tblPodRows.forEach(e=>{}),y.fire({title:"Success!",text:"POD Plan has been added.",icon:"success"}).then(e=>{this.podStatus="Endorsed"})},onSelectItem(){this.$router.push({name:"view-approved-pod-plan"})},onCollate(e){console.log(e),console.log(e.id,this.tblPodListRows),this.collatedData.push(e),this.vcBtn=!1},onViewCollated(){this.showCollatedDialog=!0,console.log("this.collatedData",this.collatedData)},onSaveCollated(){},async revert(){let e="Are you sure you want to REVERT this data?";(await y.fire({title:"Confirmation Action",text:e,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",customClass:{title:"con-label",content:"con-label"}})).isConfirmed&&(this.loading("Submitting data..."),y.close(),await y.fire({title:"Success!",text:"Your data has been REVERTED.",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}))},async endorse(e,n){let O="Are you sure you want to move this data to "+n.toUpperCase()+" status?";(await y.fire({title:"Confirmation Action",text:O,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",customClass:{title:"con-label",content:"con-label"}})).isConfirmed&&(this.loading("Submitting data..."),y.close(),await y.fire({title:"Success!",text:"Your data has been move to "+n.toUpperCase()+".",icon:"success",timer:3e3,timerProgressBar:!0,showConfirmButton:!1}))}},mounted(){this.initApp()}},K={class:"form-main"},j={class:"text-h6"},G=d("span",{class:"card-header-label"}," Approved POD Visitation Plan ",-1),X={class:"absolute-bottom-right q-pr-md",style:{transform:"translateY(50%)","z-index":"100"}},Z={key:0,style:{"min-width":"92px",padding:"0"}},x={key:0,style:{"min-width":"92px",padding:"0"}},ee=d("div",{class:"text-h6 flex"}," Create Regional Visitation Plan ",-1),te={class:"row q-col-gutter-md"},oe={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},ae={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},le={class:"q-gutter-sm q-pa-sm"},ne=d("div",{class:"text-h6 flex"}," Collated POD ",-1),se={class:"row q-col-gutter-md"},ie={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},re={key:0,class:"q-gutter-sm q-pa-sm"};function de(e,n,O,W,ue,h){return s(),u(p,null,[d("div",null,[d("div",K,[a(v,null,{default:o(()=>[a(b,{class:"bg-amber-7"},{default:o(()=>[d("div",j,[a(R,{name:"how_to_reg",size:"sm"}),G]),d("div",X,[e.userRole=="FOCAL"?(s(),r(f,{key:0,fab:"",icon:"add",color:"green-5",onClick:h.onCreatePod},null,8,["onClick"])):_("",!0)])]),_:1}),a(b,{style:{"padding-top":"0","padding-bottom":"0"}}),a(b,null,{default:o(()=>[d("div",null,[a(v,null,{default:o(()=>[a(A,{modelValue:e.approveTab,"onUpdate:modelValue":n[0]||(n[0]=t=>e.approveTab=t),dense:"",align:"left",class:"shadow-2",breakpoint:0},{default:o(()=>[a(k,{name:"visited",label:"Visited"}),a(k,{name:"notvisited",label:"Not Visited"})]),_:1},8,["modelValue"]),a(T),a(Q,{modelValue:e.approveTab,"onUpdate:modelValue":n[5]||(n[5]=t=>e.approveTab=t),animated:""},{default:o(()=>[a(D,{name:"visited"},{default:o(()=>[a(V,{title:"",rows:e.tblPodListRows,columns:e.tblPodListCols,"row-key":"name",pagination:e.pagination,"onUpdate:pagination":n[2]||(n[2]=t=>e.pagination=t),"rows-per-page-options":e.rowPerPageOptions,loading:e.fetchLoading,onRequest:e.onFetchData},{header:o(t=>[a(c,{props:t,style:{"margin-top":"10px"}},{default:o(()=>[(s(!0),u(p,null,m(t.cols,l=>(s(),r(S,{key:l.name,props:t,onClick:i=>e.toggleSort(l.name),class:F({sortable:l.sortable})},{default:o(()=>[g(w(l.label)+" ",1),a(R,{name:l.name===e.sortKey&&e.sortOrder===1?"arrow_upward":"arrow_downward",class:"q-ml-md"},null,8,["name"])]),_:2},1032,["props","onClick","class"]))),128))]),_:2},1032,["props"])]),body:o(t=>[a(c,{props:t,class:"hoverable"},{default:o(()=>[(s(!0),u(p,null,m(t.cols,l=>(s(),r(P,{key:l.name,props:t,class:"text-wrap-normal"},{default:o(()=>[g(w(l.name==="action"?"":l.value)+" ",1),l.name==="action"?(s(),u("div",Z,[a(f,{icon:"open_in_new",flat:"",color:"primary",size:"sm",label:"View",onClick:n[1]||(n[1]=i=>h.onSelectItem())})])):_("",!0)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination","rows-per-page-options","loading","onRequest"])]),_:1}),a(D,{name:"notvisited"},{default:o(()=>[a(V,{title:"",rows:e.tblPodListRows,columns:e.tblPodListCols,"row-key":"name",pagination:e.pagination,"onUpdate:pagination":n[4]||(n[4]=t=>e.pagination=t),"rows-per-page-options":e.rowPerPageOptions,loading:e.fetchLoading,onRequest:e.onFetchData},{header:o(t=>[a(c,{props:t,style:{"margin-top":"10px"}},{default:o(()=>[(s(!0),u(p,null,m(t.cols,l=>(s(),r(S,{key:l.name,props:t,onClick:i=>e.toggleSort(l.name),class:F({sortable:l.sortable})},{default:o(()=>[g(w(l.label)+" ",1),a(R,{name:l.name===e.sortKey&&e.sortOrder===1?"arrow_upward":"arrow_downward",class:"q-ml-md"},null,8,["name"])]),_:2},1032,["props","onClick","class"]))),128))]),_:2},1032,["props"])]),body:o(t=>[a(c,{props:t,class:"hoverable"},{default:o(()=>[(s(!0),u(p,null,m(t.cols,l=>(s(),r(P,{key:l.name,props:t,class:"text-wrap-normal"},{default:o(()=>[g(w(l.name==="action"?"":l.value)+" ",1),l.name==="action"?(s(),u("div",x,[a(f,{icon:"open_in_new",flat:"",color:"primary",size:"sm",label:"View",onClick:n[3]||(n[3]=i=>h.onSelectItem())})])):_("",!0)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination","rows-per-page-options","loading","onRequest"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})])]),a(H,{modelValue:e.showAddPodDialog,"onUpdate:modelValue":n[9]||(n[9]=t=>e.showAddPodDialog=t)},{default:o(()=>[a(v,{style:{width:"900px","max-width":"80vw"}},{default:o(()=>[a(L,{ref:"form",onValidationError:e.onValidationError,greedy:""},{default:o(()=>[d("div",null,[a(b,null,{default:o(()=>[ee]),_:1}),a(T,{class:"mb-5",style:{"margin-bottom":"15px"}}),a(b,{class:"q-pt-none"},{default:o(()=>[d("div",te,[d("div",oe,[a(I,{modelValue:e.region,"onUpdate:modelValue":n[6]||(n[6]=t=>e.region=t),options:e.regionOptions,label:"Region"},null,8,["modelValue","options"])]),d("div",ae,[a(V,{rows:e.tblPodRows,columns:e.tblPodColumns,"row-key":"name"},{header:o(t=>[a(c,{props:t,style:{"margin-top":"10px"}},{default:o(()=>[(s(!0),u(p,null,m(t.cols,l=>(s(),r(S,{key:l.name,props:t,class:"text-wrap-normal"},{default:o(()=>[g(w(l.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:o(t=>[a(c,{props:t,class:"hoverable"},{default:o(()=>[(s(!0),u(p,null,m(t.cols,l=>(s(),r(P,{key:l.name,props:t},{default:o(()=>[l.name==="action"?(s(),r(f,{key:0,round:"",color:"green",icon:"add",size:"sm",onClick:n[7]||(n[7]=i=>h.addRow())})):l.name==="target_date"?(s(),r(E,{key:1,type:"date",outlined:"",modelValue:t.row.target_date,"onUpdate:modelValue":i=>t.row.target_date=i,dense:"",mask:"MMM W",format24h:!0,"no-calendar-button":!0},null,8,["modelValue","onUpdate:modelValue"])):l.name==="pod_type"?(s(),r(I,{key:2,dense:"",outlined:"","input-debounce":"0",options:e.podTypeOptions,modelValue:t.row.pod_type,"onUpdate:modelValue":i=>t.row.pod_type=i},{"no-option":o(()=>[a(B,null,{default:o(()=>[a(M,{class:"text-italic text-grey"},{default:o(()=>[g(" No data available ")]),_:1})]),_:1})]),_:2},1032,["options","modelValue","onUpdate:modelValue"])):l.name==="agency"?(s(),r(I,{key:3,dense:"",outlined:"","input-debounce":"0",options:e.agencyOptions,modelValue:t.row.agency,"onUpdate:modelValue":i=>t.row.agency=i},{"no-option":o(()=>[a(B,null,{default:o(()=>[a(M,{class:"text-italic text-grey"},{default:o(()=>[g(" No data available ")]),_:1})]),_:1})]),_:2},1032,["options","modelValue","onUpdate:modelValue"])):(s(),r(E,{key:4,outlined:"",modelValue:t.row.pod,"onUpdate:modelValue":i=>t.row.pod=i,dense:""},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])])]),_:1})])]),_:1},8,["onValidationError"]),a(U,{align:"right",class:"bg-white text-teal"},{default:o(()=>[d("div",le,[a(f,{icon:"send",color:"green-7",label:"Submit",onClick:n[8]||(n[8]=t=>h.onSubmit())}),q(a(f,{icon:"close",color:"red",label:"Close"},null,512),[[N]])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(H,{modelValue:e.showCollatedDialog,"onUpdate:modelValue":n[13]||(n[13]=t=>e.showCollatedDialog=t)},{default:o(()=>[a(v,{style:{width:"800px","max-width":"80vw"}},{default:o(()=>[a(L,{ref:"form",onValidationError:e.onValidationError,greedy:""},{default:o(()=>[d("div",null,[a(b,null,{default:o(()=>[ne]),_:1}),a(T,{class:"mb-5",style:{"margin-bottom":"15px"}}),a(b,{class:"q-pt-none"},{default:o(()=>[d("div",se,[d("div",ie,[a(v,null,{default:o(()=>[a(A,{modelValue:e.collatedTab,"onUpdate:modelValue":n[10]||(n[10]=t=>e.collatedTab=t),dense:"",align:"left",class:"shadow-2",breakpoint:0},{default:o(()=>[(s(!0),u(p,null,m(e.collatedData,(t,l)=>(s(),r(k,{key:l,name:String(l),label:t.region},null,8,["name","label"]))),128))]),_:1},8,["modelValue"]),a(Q,{modelValue:e.collatedTab,"onUpdate:modelValue":n[11]||(n[11]=t=>e.collatedTab=t),animated:""},{default:o(()=>[(s(!0),u(p,null,m(e.collatedData,(t,l)=>(s(),r(D,{key:l,name:String(l)},{default:o(()=>[a(V,{separator:"cell",rows:e.tblCollatedRows,columns:e.tblCollatedCols,"row-key":"name",pagination:!1,"hide-pagination":"","rows-per-page-options":[0],loading:e.fetchLoading},{header:o(i=>[a(c,{props:i,style:{"margin-top":"10px"}},{default:o(()=>[(s(!0),u(p,null,m(i.cols,C=>(s(),r(S,{key:C.name,props:i},{default:o(()=>[g(w(C.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:o(i=>[a(c,{props:i,class:"hoverable"},{default:o(()=>[(s(!0),u(p,null,m(i.cols,C=>(s(),r(P,{key:C.name,props:i,class:"text-wrap-normal"},{default:o(()=>[g(w(C.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1})])])]),_:1})])]),_:1},8,["onValidationError"]),a(U,{align:"right",class:"bg-white text-teal"},{default:o(()=>[e.podStatus!="Endorsed"?(s(),u("div",re,[e.btnRoles.includes(e.userRole)?q((s(),r(f,{key:0,label:"Save",icon:"save",color:"green",onClick:n[12]||(n[12]=t=>h.onSaveCollated())},null,512)),[[N]]):_("",!0)])):_("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var Ne=Y($,[["render",de]]);export{Ne as default};
